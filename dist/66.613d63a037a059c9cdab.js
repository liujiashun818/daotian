(function(){"use strict";var e=this,t=this,a=function(e,a,l){function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}function _classCallCheck(e,a){if(!(e instanceof a))throw new t.TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(e,a){if(!e)throw new t.ReferenceError("this hasn't been initialised - super() hasn't been called");return!a||"object"!=typeof a&&"function"!=typeof a?e:a}function _inherits(e,a){if("function"!=typeof a&&null!==a)throw new t.TypeError("Super expression must either be null or a function, not "+typeof a);e.prototype=t.Object.create(a&&a.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),a&&(t.Object.setPrototypeOf?t.Object.setPrototypeOf(e,a):e.__proto__=a)}t.Object.defineProperty(a,"__esModule",{value:!0});var r=(l(68),l(67)),n=_interopRequireDefault(r),i=(l(47),l(41)),o=_interopRequireDefault(i),u=(l(157),l(35)),s=_interopRequireDefault(u),d=(l(37),l(59)),f=_interopRequireDefault(d),c=(l(66),l(65)),m=_interopRequireDefault(c),p=function(){function defineProperties(e,a){for(var l=0;l<a.length;l++){var r=a[l];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),t.Object.defineProperty(e,r.key,r)}}return function(e,t,a){return t&&defineProperties(e.prototype,t),a&&defineProperties(e,a),e}}(),h=l(0),b=_interopRequireDefault(h),_=l(22),y=_interopRequireDefault(_),E=l(315),v=_interopRequireDefault(E),g=function(e){function Set(e){_classCallCheck(this,Set);var a=_possibleConstructorReturn(this,(Set.__proto__||t.Object.getPrototypeOf(Set)).call(this,e));return a.state={companyDetail:{}},["handleSubmit"].map(function(e){return a[e]=a[e].bind(a)}),a}return _inherits(Set,e),p(Set,[{key:"componentDidMount",value:function(){this.getCompanyDetail()}},{key:"handleSubmit",value:function(){var e=this.state.companyDetail,a=this.props.form.getFieldsValue();a.company_id=e._id,a.gross_profit_min_rate=t.Number(a.gross_profit_min_rate)/100,a.hotline_phone=a.hotline_phone_after,a.hotline_phone_before&&(a.hotline_phone=a.hotline_phone_before+"-"+a.hotline_phone_after),y.default.ajax({url:y.default.company.edit(),type:"POST",data:a},function(){m.default.success("编辑门店成功")})}},{key:"getCompanyDetail",value:function(){var e=this;y.default.ajax({url:y.default.company.detail()},function(t){var a=t.res.company,l=a.hotline_phone,r=[];l.indexOf("-")>-1?(r=l.split("-"),a.areaCode=r[0],a.phone=r[1]):(a.areaCode="",a.phone=l),e.setState({companyDetail:a})})}},{key:"render",value:function(){var e=this.state.companyDetail,a=this.props.form.getFieldDecorator;return b.default.createElement("div",null,b.default.createElement("h3",{className:"head-action-bar-line font-size-14 mb20"},"基础信息"),b.default.createElement(n.default,null,b.default.createElement("div",{className:"mb10"},b.default.createElement("label",{className:"label label-right ant-form-item-required"},"门店名称"),b.default.createElement(f.default,{size:"large",style:{width:"505px"},value:e.name,disabled:!0})),b.default.createElement("div",{className:"mb10"},b.default.createElement("label",{className:"label label-right ant-form-item-required"},"省份"),b.default.createElement(f.default,{size:"large",style:{width:"127px"},value:e.province,disabled:!0}),b.default.createElement("label",{className:"label ant-form-item-required ml10"},"城市"),b.default.createElement(f.default,{size:"large",style:{width:"127px"},value:e.city,disabled:!0}),b.default.createElement("label",{className:"label ant-form-item-required ml10"},"区县"),b.default.createElement(f.default,{size:"large",style:{width:"127px"},value:e.country,disabled:!0})),b.default.createElement("div",{className:"mb10"},b.default.createElement("label",{className:"label ant-form-item-required label-right"},"详细地址"),a("address",{initialValue:e.address})(b.default.createElement(f.default,{size:"large",style:{width:"505px"}}))),b.default.createElement("div",{className:"mb10"},b.default.createElement("label",{className:"label ant-form-item-required label-right"},"店总负责人"),b.default.createElement(f.default,{size:"large",style:{width:"127px"},value:e.admin_name,disabled:!0}),b.default.createElement("label",{className:"label ant-form-item-required ml10"},"手机"),b.default.createElement(f.default,{size:"large",style:{width:"127px"},value:e.admin_phone,disabled:!0})),b.default.createElement("div",null,b.default.createElement("label",{className:"label label-right"},"咨询电话"),a("hotline_phone_before",{initialValue:e.areaCode})(b.default.createElement(f.default,{size:"large",placeholder:"区号",style:{width:"80px"}})),b.default.createElement("span",{className:"ml10 mr10"},"-"),a("hotline_phone_after",{initialValue:e.phone})(b.default.createElement(f.default,{size:"large",placeholder:"请输入电话号码(区号可留空)",style:{width:"210px"}}))),b.default.createElement("h3",{className:"head-action-bar-line font-size-14 mb20 mt20 "},"毛利率设置"),b.default.createElement("span",null,b.default.createElement(s.default,{type:"info-circle-o",className:"ml20 mr10"}),"设置最低毛利率用来保障门店基本利润，工单毛利率会在结算后计算，低于最低毛利率时给予异常提醒。"),b.default.createElement("div",{className:"mt10"},b.default.createElement("label",{className:"label label-right",style:{verticalAlign:"middle"}},"最低毛利率"),a("gross_profit_min_rate",{initialValue:e.gross_profit_min_rate&&(100*t.Number(e.gross_profit_min_rate)).toFixed(2)})(b.default.createElement(f.default,{size:"large",placeholder:"请输入最低毛利率",style:{width:"315px"},addonAfter:"%"}))),b.default.createElement("div",{className:"head-action-bar-line"}),b.default.createElement(o.default,{type:"primary",className:"mt20 ml20 mb20",onClick:this.handleSubmit},"保存")))}}]),Set}(v.default);g=n.default.create()(g),a.default=g},l=e,r=l.webpackJsonp;if(l.webpackJsonp!==r)throw new Error("Prepack model invariant violation: "+l.webpackJsonp);var n=[66],i={1516:a};r(n,i)}).call(this);